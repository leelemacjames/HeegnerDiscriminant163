<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Heegner Number & Prime Polynomial Explorer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- MathJax for LaTeX Rendering -->
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        .prime-cell { background-color: #dcfce7; color: #166534; font-weight: bold; }
        .composite-cell { background-color: #fee2e2; color: #991b1b; }
        .table-scroll {
            scrollbar-width: thin;
            scrollbar-color: #cbd5e1 #f8fafc;
        }
        .ascii-tagline {
            font-family: monospace;
            white-space: pre;
            line-height: 1.2;
            color: #1e293b;
        }
        tr.collapsed { display: none; }
        .toggle-btn {
            transition: all 0.2s;
        }
        .toggle-btn:hover {
            transform: translateY(-1px);
        }
    </style>
</head>
<body class="bg-slate-50 min-height-screen p-4 md:p-8">
    <div class="max-w-7xl mx-auto">
        <header class="mb-8 text-center">
            <!-- Tagline Section -->
            <div class="flex flex-col items-center justify-center mb-6">
                <div class="ascii-tagline text-[10px] md:text-xs bg-slate-100 p-4 rounded-lg border border-slate-200 shadow-inner">
  _    _                               _   _                      _               
 | |  | |                             | \ | |                    | |              
 | |__| | ___  ___  __ _ _ __   ___ _ _|  \| |_   _ _ __ ___ | |__   ___ _ __ ___ 
 |  __  |/ _ \/ _ \/ _` | '_ \ / _ \ '__| . ` | | | | '_ ` _ \| '_ \ / _ \ '__/ __|
 | |  | |  __/  __/ (_| | | | |  __/ |  | |\  | |_| | | | | | | |_) |  __/ |  \__ \
 |_|  |_|\___|\___|\__, |_| |_|\___|_|  |_| \_|\__,_|_| |_| |_|_.__/ \___|_|  |___/
                    __/ |                                                         
                   |___/                                                          
                </div>
                <p class="mt-4 text-lg font-medium text-slate-700 max-w-2xl">
                    The 9 Magic Numbers of Class Number 1: Where Algebra ensures Prime Perfection. LeeMcCullochJames@
                </p>
            </div>
            
            <h1 class="text-3xl font-bold text-slate-800 mb-2">Matrix Explorer</h1>
            <p class="text-slate-600">Investigating the Prime-Generating Polynomial: \(f(n) = n^2 - n + C\), where \(C = \frac{1+D}{4}\)</p>
        </header>

        <!-- Controls -->
        <div class="bg-white p-6 rounded-xl shadow-sm mb-8 flex flex-wrap gap-6 items-center justify-center border border-slate-200">
            <div class="flex flex-col">
                <label class="text-sm font-semibold text-slate-700 mb-1">Max \(n\) (Columns):</label>
                <input type="range" id="nRange" min="5" max="50" value="45" class="w-64 accent-blue-600">
                <span id="nValue" class="text-center font-mono text-blue-600 font-bold text-lg">45</span>
            </div>
            <div class="flex flex-col items-center border-l px-6 border-slate-200">
                <button id="toggleCollapsed" class="toggle-btn bg-slate-800 text-white px-4 py-2 rounded-lg text-sm font-semibold shadow-sm hover:bg-slate-700 mb-2">
                    Show Non-Integer D (1, 2)
                </button>
                <span class="text-[10px] text-slate-400 uppercase tracking-wider">Spreadsheet Toggle</span>
            </div>
            <div class="text-sm text-slate-500 max-w-md border-l pl-6 border-slate-200">
                <p>For \(D=163\), \(n^2 - n + 41\) produces primes for \(n = 1\) to \(40\).</p>
                <p class="mt-1 text-xs text-blue-600 italic">Linked to Ramanujan's Constant.</p>
                <div class="mt-2 flex gap-4">
                    <span><span class="inline-block w-3 h-3 bg-green-100 border border-green-300 mr-1"></span> Prime</span>
                    <span><span class="inline-block w-3 h-3 bg-red-100 border border-red-300 mr-1"></span> Composite</span>
                </div>
            </div>
        </div>

        <!-- Table Container -->
        <div class="overflow-x-auto bg-white rounded-xl shadow-md border border-slate-200 table-scroll">
            <table class="w-full text-sm text-left border-collapse">
                <thead>
                    <tr id="tableHeader" class="bg-slate-100 border-b border-slate-200">
                        <!-- Populated by JS -->
                    </tr>
                </thead>
                <tbody id="tableBody">
                    <!-- Populated by JS -->
                </tbody>
            </table>
        </div>

        <!-- Explanation Section -->
        <div class="grid md:grid-cols-3 gap-6 mt-12">
            <!-- Col 1: Ramanujan -->
            <div class="bg-white p-5 rounded-xl shadow-sm border border-slate-200 border-t-4 border-t-blue-500">
                <h2 class="text-lg font-bold text-slate-800 mb-3 border-b pb-2">Ramanujan's Constant</h2>
                <div class="text-slate-600 space-y-3 text-sm">
                    <p>
                        The number 163 isn't just a prime generator. It also produces the "Almost Integer":
                    </p>
                    <div class="bg-slate-50 p-2 rounded font-mono text-xs overflow-x-auto">
                        \( e^{\pi\sqrt{163}} \approx 262537412640768743.99999999999925 \)
                    </div>
                    <p>
                        This happens because \(D=163\) is the largest Heegner number. The "Class Number 1" property means there is only one way to factor numbers in this algebraic field, leading to this nearly perfect alignment.
                    </p>
                </div>
            </div>

            <!-- Col 2: Unique Factorization -->
            <div class="bg-white p-5 rounded-xl shadow-sm border border-slate-200">
                <h2 class="text-lg font-bold text-slate-800 mb-3 border-b pb-2">Class Number 1 Perfection</h2>
                <div class="text-slate-600 space-y-3 text-sm">
                    <p>
                        The 9 Heegner numbers define fields where <strong>Unique Factorization</strong> holds. 
                    </p>
                    <p>
                        For \(D=163\), the polynomial \(n^2 - n + 41\) stays prime until \(n=41\). Because \(41^2 - 41 + 41 = 41^2\), column 41 is the first mathematical necessity for a composite value.
                    </p>
                </div>
            </div>

            <!-- Col 3: Counter-Example -->
            <div class="bg-white p-5 rounded-xl shadow-sm border border-slate-200 border-l-4 border-l-red-400">
                <h2 class="text-lg font-bold text-slate-800 mb-3 border-b pb-2">Non-Unique Counter-Example</h2>
                <div class="text-slate-600 space-y-3 text-sm">
                    <p>For \(D=5\) (not a Heegner number), the ring \(\mathbb{Z}[\sqrt{-5}]\) lacks unique factorization. Witness the number <strong>6</strong>:</p>
                    <div class="bg-slate-50 p-2 rounded font-mono text-center">
                        \(6 = 2 \times 3\) <br>
                        \(6 = (1 + \sqrt{-5})(1 - \sqrt{-5})\)
                    </div>
                    <p>
                        Since there are two distinct ways to factor the same number, the symmetry is broken. This is why polynomials for non-Heegner numbers hit composite values almost immediately.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script>
        const heegnerNumbers = [1, 2, 3, 7, 11, 19, 43, 67, 163];
        let showNonInteger = false;
        
        function isPrime(num) {
            if (num <= 1) return false;
            if (num % 1 !== 0) return false;
            for (let i = 2; i <= Math.sqrt(num); i++) {
                if (num % i === 0) return false;
            }
            return true;
        }

        function updateTable() {
            const maxN = parseInt(document.getElementById('nRange').value);
            document.getElementById('nValue').textContent = maxN;

            const headerRow = document.getElementById('tableHeader');
            const tableBody = document.getElementById('tableBody');

            const fractionHeader = "Const (1+D)/4";

            headerRow.innerHTML = `
                <th class="p-4 border-r border-slate-200 sticky left-0 bg-slate-100 z-30 min-w-[100px]">Heegner \(D\)</th>
                <th class="p-4 border-r border-slate-200 sticky left-[100px] bg-slate-100 z-30 min-w-[140px]">${fractionHeader}</th>
                ${Array.from({length: maxN}, (_, i) => `<th class="p-2 text-center border-r border-slate-200 min-w-[60px]">\(n=${i+1}\)</th>`).join('')}
            `;

            tableBody.innerHTML = '';
            heegnerNumbers.forEach(d => {
                const constant = (1 + d) / 4;
                const isNonIntegerD = (d === 1 || d === 2);
                
                const row = document.createElement('tr');
                row.className = `border-b border-slate-100 hover:bg-slate-50 transition-colors group ${isNonIntegerD && !showNonInteger ? 'collapsed' : ''}`;
                
                let cellsHtml = `
                    <td class="p-4 font-bold text-slate-700 border-r border-slate-200 sticky left-0 bg-white group-hover:bg-slate-50 z-20">${d}</td>
                    <td class="p-4 font-mono text-slate-500 border-r border-slate-200 sticky left-[100px] bg-white group-hover:bg-slate-50 z-20">${constant}</td>
                `;

                for (let n = 1; n <= maxN; n++) {
                    const val = (n * n) - n + constant;
                    const isP = isPrime(val);
                    const isInt = (val % 1 === 0);
                    
                    let cellClass = "";
                    if (isInt) {
                        cellClass = isP ? 'prime-cell' : 'composite-cell';
                    } else {
                        cellClass = 'text-slate-400 italic bg-slate-50';
                    }
                    
                    cellsHtml += `<td class="p-2 text-center border-r border-slate-100 ${cellClass}">${val}</td>`;
                }

                row.innerHTML = cellsHtml;
                tableBody.appendChild(row);
            });

            if (window.MathJax) {
                MathJax.typesetPromise();
            }
        }

        document.getElementById('toggleCollapsed').addEventListener('click', () => {
            showNonInteger = !showNonInteger;
            const btn = document.getElementById('toggleCollapsed');
            btn.textContent = showNonInteger ? 'Hide Non-Integer D' : 'Show Non-Integer D (1, 2)';
            updateTable();
        });

        document.getElementById('nRange').addEventListener('input', updateTable);
        window.onload = updateTable;
    </script>
</body>
</html>
</body>
</html>



